#pragma kernel CSMain

Texture2D<float4> BaseMap;
RWTexture2D<float4> DiffuseMap;

[numthreads(8, 8, 1)]
void CSMain(uint3 id : SV_DispatchThreadID)
{
    float4 pixel = BaseMap[id.xy];
    float luminance = dot(pixel.rgb, float3(0.2126, 0.7152, 0.0722));
    DiffuseMap[id.xy] = float4(luminance, luminance, luminance, 1.0);
}